## 古典概型和概率空间

### 名词概念&理解 nouns and concepts

#### 随机试验/试验 experiment

按照一定的想法（规则）做的事情，并观察结果，称之为试验，如掷骰子观察点数这个**过程**。

#### 样本/样本点 sample/sample point

事情发生的每一个可能，称之为样本点，如骰子的一次投掷的点数。

*1、2、3、4、5、6 每一个称为一个样本点，也只有这六个样本点，和掷几次无关*

#### 样本空间/样本空间描述/可能空间/输出空间 sample space/sample description space/possibility space/outcome space

所有可能的集合（set）称之为样本，数学代号: $\Omega$​

*如掷骰子 {1、2、3、4、5、6} 这个集合称之为掷一个骰子的样本空间*

*如果是两个骰子，观察两个骰子的和为试验的话，那样本空间就变为{2，3，4，5，6，7，8，9，10，11，12} 这个集合*

*同样是掷两个骰子，观察是两个骰子点数的组合，那样本空间就变为{(1,1)、(1,2)、(1,3)……(6,6)} 这个集合，此时（2,4）是一个样本点*

#### 随机事件/事件 event

样本空间的子集称之为事件。

*还是以掷骰子举例，掷一个骰子一次是 3 点是一个事件，{3}是 $\Omega$ 的子集，观察的结构落在子集中，事件发生，否则就是事件未发生*

*掷一个骰子一次点数大于  2 是另一个事件，{3、4、5、6} 是 $\Omega$ 的子集*

*掷两个骰子，和大于 6 是一个事件，{7、8、9、10、11、12} 是 $\Omega$ 的子集*

*两个骰子点数相同时另外一个事件，{(1,1)、(2,2)、(3,3)、(4,4)、(5,5)、(6,6)} 是 $\Omega$ 的子集*

#### 基本事件 atomic/elementary event

只有一个元素的事件称之为基本事件，这个事件集合内只有一个样本点

*如上面掷骰子，{3} 是基本事件，{（1，1）} 也是基本事件，掷有一个元素的集合*

如果表示一个事件的集合等于样本空间$\Omega$，就称之为**必然事件**

*如掷一个骰子的点数大于 0，掷两个骰子点数之和小于13*

如果表示一个事件的集合是空集{}，就称之为**不可能事件**

*如掷一个骰子的点数等于 7*

#### 复合事件 compound event

不是一个单独的概念，是两个事件的关系，主要关系有：

- 包含：A 包含 B，B 事件发生则 A 事件必然发生
- 等价：A 等价 B，A 事件和 B 事件的集合相同
- 对立：A 事件发生，B 事件必然不发生，B 事件发生，A 必然发生，且 A B 必有一个发生（A B 是补集）
- 互斥：同对立，但 A B 不是必有一个发生

#### 概率空间 probability space

在不可数样本空间中，概率论不是所有子集（事件）都适合，只有满足加法公理的事件才能使用概率论，这些子集（事件）构成的空间称之为概率空间。

概率空间的三个条件：

  - $\Omega$ 是事件
  - A，B 是事件，则 $A \cup B$，$A \cap B$，$A -B$，$\bar A$​  都是事件
  - 当 $A_j$ 是事件，则 $\cup^{\infty}_{j=1}  A_j$​ 也是事件

有限个事件进行有限次运算后得到的结果仍然是事件

满足三个条件的事件的集合 $\mathscr{F}$ (F的手写体)叫做 $\sigma$ 域或 $\sigma$ 代数。

对于试验 S 的事件 A，用 0，1 之间的数 P(A)表示事件 A 发生可能性的大小，对于每个事件 $A\in \mathscr{F}$, P(A)是一个实数，$P(A)$ 是事件 A 的函数。

### 古典概型 Classical probability

两个条件：

- 样本空间有限
- 基本事件发生的概率相同

公式：$ P = r/n $

- P 事件发生的概率，P(A) 表示事件 A 发生的概率
- r 表示事件集合的大小
- n 是样本空间的大小
- r、n 大部分情况通过排列组合的方式获得

排列组合公式：

- 有重复（放回）的排列：$n^m$

- 无重复（放回）的排列：$A^m_n=n(n-1)(n-2)...(n-m+1)=\frac{n!}{(n-m)!}$
- 组合（无顺序）：$C^m_n=\frac{n(n-1)...(n-m+1)}{m!}=\frac{n!}{m!(n-m)!}$


### 几何概型 Geometric probability

- 样本点不可数，但可以通过测量的方式获得集合范围
- 与古典概型的计算方式相同

### 条件概率 Conditional probability

事件 A 在事件 B 发生条件下的概率，记为 $ P(A|B) $

- 联合概率：$P(AB) = \frac {(A \cap B)} \Omega$
- 条件概率：$P(A|B) = \frac {P(AB)} {P(B)}$
- 乘法公式：$P(AB) = P(B) \times P(A|B)$

*理解 1：联合概率 $P(AB) or P(A,B)$ 代表 A 事件和 B 事件的交集，记作事件 C*

*理解2：在 1 的基础上，把事件 B 的集合看作新的样本空间 $\Omega^1$ , 条件概率公式与乘法公式就比较好理解了，公式推导：*

$$ P(A|B) = \frac C {\Omega^1} = \frac {A \cap B} {B} = \frac {P(AB) \times \Omega} {P(B) \times \Omega} = \frac  {P(AB)} {P(B)}$$

*理解3：因为 $P(A|B)$ 与 $P(B|A)$ 分别代表了 AB 与 B、A 的比值，所以 A 与 B 的大小不同时，$P(A|B) \neq P(B|A)$*

前提：A、B 是独立是按，相互之间不影响，没有因果关系。

### 全概率公式/定理 Law of total probability

在样本空间 $\Omega$ 中，把 $\Omega$ 分解为完全且不重复 n 个集合 $B_n$，则 A 的概率等于 A 和每个 $B_n$ 的交集概率的和

公式：$P(A) = \Sigma ^n_{i=1} P(AB_i) = \Sigma ^n_{i=1} P(B_i) \times P(A|B_i)$

*理解：把不重复的样本空间按比例合并，把概率也按比例合并*

用于来源不同，所占比例不同，混在一起后，某一维度（如次品）样本集合占总样本量的比例。

### 贝叶斯公式/定理 Bayes theorem/law/rule

 $P(A|B) = \frac {P(AB)} {PB} =\frac {P(A)P(B|A)}  {P(B)}$

*理解：已知 A 发生概率，B 发生概率，以及及 A 发生条件下 B 的概率，获得 B 发生条件下 A 发生的概率；实际上就是用 AB 同时发生的概率进行中转获得，见条件概率理解2*

*实际使用多数 A 分解为多个事件，常用的是 A 和 $\bar {A}$ ，然后上面的公式分母是使用全概率公式计算得出：*

$P(A|B) = \frac {P(AB)} {\Sigma _{i=1} ^{n} P(A_i) \times P(B|A_i)} = \frac {P(A) \times P(B|A)}  {\Sigma _{i=1} ^{n} P(A_i) \times P(B|A_i)}$

例：某种疾病的发病率是 0.5%，一种检测试剂的准确度是 99%，也就是已发病的人测试，有 99% 显示阳性，1 % 显示阴性（未检测出），在没有病的人进行测试，99% 显示阴性，1 % 显示阳性（误报），那一个人一次检测是阳性，真正患病的概率是多少？

*A是患病的概率，B是检测出阳性的概率，问题则表示为 P(A|B):*

*P(A) = 0.005, P(B) 在 A 发生（发病）和不发生（无病 $\bar {A}$）的概率分别是 0.99 和 0.01, 也就是 $P(B|A) = 0.99, P(B| \bar{A}) = 0.01$*

*根据贝叶斯公式 $P(A|B) = \frac {P(A) \times P(B|A)} {P(A) \times P(B|A) + P(\bar {A}) \times P(B|\bar{A})} = \frac {0.005 \times 0.99} {0.005 \times 0.99 + 0.995 \times 0.001} = ?$*



### 概率及公理化

- 如果事件的函数 P 满足条件：

  - 非负性：对于任何事件 A，$P(A)\geq0$
  - 完全性：$P(\Omega) = 1$
  - 可列可加性：对于互不相容的事件 $A_1,A_2...$ 有 $P(\bigcup^{\infty}_{j=1}A_j) = \Sigma_{j=1}^{\infty}P(A_j)$，则称 P 是试验 S 的概率，P(A) 是事件 A 的概率。（*可列：集合的个数或运算的次数可以依次排列起来*）


- 上述三个条件为概率的公理化条件，不满足公理化条件的 P 不是概率。

  